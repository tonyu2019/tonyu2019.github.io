<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/56x56logo.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/56x56logo.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico"><link rel="mask-icon" href="/images/400x400logo.png" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"www.diandian100.cn",root:"/",scheme:"Gemini",version:"8.0.0",exturl:!0,sidebar:{position:"left",display:"always",padding:18,offset:12},copycode:!0,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!0,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,i18n:{placeholder:"搜索...",empty:"没有找到任何搜索结果：${query}",hits_time:"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）",hits:"找到 ${hits} 个搜索结果"},path:"search.xml",localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1}}</script><meta name="description" content="Laravel Mix](https:&#x2F;&#x2F;github.com&#x2F;JeffreyWay&#x2F;laravel-mix) 提供了简洁且可读性高的 API，用于使用几个常见的 CSS 和 JavaScript 预处理器为应用定义 Webpack 构建步骤。可以通过简单链式调用来定义资源的编译。例如："><meta property="og:type" content="article"><meta property="og:title" content="Laravel 之编辑资源MIX"><meta property="og:url" content="https://www.diandian100.cn/672751f5.html"><meta property="og:site_name" content="点点开发技术分享"><meta property="og:description" content="Laravel Mix](https:&#x2F;&#x2F;github.com&#x2F;JeffreyWay&#x2F;laravel-mix) 提供了简洁且可读性高的 API，用于使用几个常见的 CSS 和 JavaScript 预处理器为应用定义 Webpack 构建步骤。可以通过简单链式调用来定义资源的编译。例如："><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-07-24T07:27:40.000Z"><meta property="article:modified_time" content="2020-09-04T01:00:24.000Z"><meta property="article:author" content="托小尼"><meta property="article:tag" content="laravel"><meta property="article:tag" content="laravel mix"><meta property="article:tag" content="node"><meta property="article:tag" content="npm"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.diandian100.cn/672751f5.html"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>Laravel 之编辑资源MIX | 点点开发技术分享</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3b57832214417f66931e694d19fd60b9";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">点点开发技术分享</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">记录个人日常开发笔记与技巧</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-development"><a href="/categories/rd/" rel="section"><i class="fa fa-code fa-fw"></i>开发</a></li><li class="menu-item menu-item-frontend"><a href="/categories/fe/" rel="section"><i class="fab fa-html5 fa-fw"></i>前端</a></li><li class="menu-item menu-item-database"><a href="/categories/db/" rel="section"><i class="fa fa-database fa-fw"></i>数据库</a></li><li class="menu-item menu-item-os"><a href="/categories/os/" rel="section"><i class="fab fa-linux fa-fw"></i>系统</a></li><li class="menu-item menu-item-other"><a href="/categories/other/" rel="section"><i class="far fa-paper-plane fa-fw"></i>其他</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><section class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-amp-%E9%85%8D%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">安装 &amp; 配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Node"><span class="nav-number">2.0.1.</span> <span class="nav-text">安装 Node</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Laravel-Mix"><span class="nav-number">2.0.2.</span> <span class="nav-text">Laravel Mix</span></a></li></ol></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C-Mix"><span class="nav-number">3.</span> <span class="nav-text">运行 Mix</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%91%E6%8E%A7%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9"><span class="nav-number">3.0.1.</span> <span class="nav-text">监控资源文件修改</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%A0%B7%E5%BC%8F"><span class="nav-number">4.</span> <span class="nav-text">使用样式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Less"><span class="nav-number">4.1.</span> <span class="nav-text">Less</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sass"><span class="nav-number">4.2.</span> <span class="nav-text">Sass</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stylus"><span class="nav-number">4.3.</span> <span class="nav-text">Stylus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PostCSS"><span class="nav-number">4.4.</span> <span class="nav-text">PostCSS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%AF-CSS"><span class="nav-number">4.5.</span> <span class="nav-text">纯 CSS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#URL-%E5%A4%84%E7%90%86"><span class="nav-number">4.6.</span> <span class="nav-text">URL 处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B5%84%E6%BA%90%E6%98%A0%E5%B0%84"><span class="nav-number">4.7.</span> <span class="nav-text">资源映射</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E8%84%9A%E6%9C%AC"><span class="nav-number">5.</span> <span class="nav-text">使用脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8F%90%E5%8F%96%E4%BE%9D%E8%B5%96%E5%BA%93"><span class="nav-number">5.1.</span> <span class="nav-text">提取依赖库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#React"><span class="nav-number">5.2.</span> <span class="nav-text">React</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E7%94%9F-JS"><span class="nav-number">5.3.</span> <span class="nav-text">原生 JS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-Webpack-%E9%85%8D%E7%BD%AE"><span class="nav-number">5.4.</span> <span class="nav-text">自定义 Webpack 配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%88%E5%B9%B6%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE"><span class="nav-number">5.4.1.</span> <span class="nav-text">合并自定义配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">5.4.2.</span> <span class="nav-text">自定义配置文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6-amp-%E7%9B%AE%E5%BD%95"><span class="nav-number">6.</span> <span class="nav-text">复制文件 &amp; 目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%EF%BC%8F%E7%BC%93%E5%AD%98%E6%B8%85%E9%99%A4"><span class="nav-number">7.</span> <span class="nav-text">版本控制／缓存清除</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Browsersync-%E9%87%8D%E6%96%B0%E5%8A%A0%E8%BD%BD"><span class="nav-number">8.</span> <span class="nav-text">Browsersync 重新加载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">9.</span> <span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E7%9F%A5"><span class="nav-number">10.</span> <span class="nav-text">通知</span></a></li></div></section><section class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="托小尼" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">托小尼</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">202</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">30</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">1282</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cDovL3dwYS5xcS5jb20vbXNncmQ/dj0zJnVpbj02NDY1NDc5ODkmc2l0ZT1xcSZtZW51PXllcw==" title="QQ → http:&#x2F;&#x2F;wpa.qq.com&#x2F;msgrd?v&#x3D;3&amp;uin&#x3D;646547989&amp;site&#x3D;qq&amp;menu&#x3D;yes"><i class="fab fa-qq fa-fw"></i>QQ</span> </span><span class="links-of-author-item"><span class="exturl" data-url="bWFpbHRvOnRvbnl5dUB2aXAucXEuY29t" title="E-Mail → mailto:tonyyu@vip.qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span></span></div></section></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL3Rvbnl1MjAxOQ==" title="关注我" aria-label="关注我"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.diandian100.cn/672751f5.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="托小尼"><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="点点开发技术分享"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Laravel 之编辑资源MIX</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-07-24 15:27:40" itemprop="dateCreated datePublished" datetime="2019-07-24T15:27:40+08:00">2019-07-24</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-09-04 09:00:24" itemprop="dateModified" datetime="2020-09-04T09:00:24+08:00">2020-09-04</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/rd/" itemprop="url" rel="index"><span itemprop="name">rd</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/rd/php/" itemprop="url" rel="index"><span itemprop="name">php</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/rd/php/laravel/" itemprop="url" rel="index"><span itemprop="name">laravel</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Changyan：</span> <a title="changyan" href="/672751f5.html#SOHUCS" itemprop="discussionUrl"><span id="changyan_count_unit" class="post-comments-count hc-comment-count" data-xid="672751f5.html" itemprop="commentCount"></span></a></span></div><div class="post-meta"><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>8.3k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>8 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>Laravel Mix](<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0plZmZyZXlXYXkvbGFyYXZlbC1taXg=">https://github.com/JeffreyWay/laravel-mix<i class="fa fa-external-link-alt"></i></span>) 提供了简洁且可读性高的 API，用于使用几个常见的 CSS 和 JavaScript 预处理器为应用定义 Webpack 构建步骤。可以通过简单链式调用来定义资源的编译。例如：</p><a id="more"></a><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.js(<span class="string">&#x27;&#x27;</span>resources/assets/js/app.js<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/js<span class="string">&#x27;&#x27;</span>)\n   .sass(<span class="string">&#x27;&#x27;</span>resources/assets/sass/app.scss<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>如果你曾经对于使用 Webpack 及编译资源感到困惑和不知所措，那么你会爱上 Laravel Mix。当然，Laravel 也并没有强迫你一定要使用 Mix，你可以自由使用任何你喜欢的资源编译工具，或者不用也行。</p><h2 id="安装-amp-配置"><a href="#安装-amp-配置" class="headerlink" title="安装 &amp; 配置"></a>安装 &amp; 配置</h2><h4 id="安装-Node"><a href="#安装-Node" class="headerlink" title="安装 Node"></a>安装 Node</h4><p>在开始使用 Mix 之前，必须先确保你的机器上安装了 Node.js 和 NPM。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v\nnpm -v</span><br></pre></td></tr></table></figure><p>默认情况下，Laravel Homestead 会包含你所需的一切。当然，如果你没有使用 Vagrant，就使用简单的图形安装程序从 <span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnL2VuL2Rvd25sb2FkLw==">其下载页面<i class="fa fa-external-link-alt"></i></span> 安装最新版的 Node 和 NPM。</p><h4 id="Laravel-Mix"><a href="#Laravel-Mix" class="headerlink" title="Laravel Mix"></a>Laravel Mix</h4><p>然后就只需要安装 Laravel Mix。在新的 Laravel 项目中，你可以在目录结构的根目录中找到一个 <code>package.json</code> 文件，它包括了运行基本的 Mix 所需的内容。就如同 <code>composer.json</code> 文件，只不过它定义的是 Node 的依赖而不是 PHP。你可以使用以下的命令安装它引用的依赖项：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><h2 id="运行-Mix"><a href="#运行-Mix" class="headerlink" title="运行 Mix"></a>运行 Mix</h2><p>Mix 是位于 <span class="exturl" data-url="aHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy8=">Webpack<i class="fa fa-external-link-alt"></i></span> 顶部的配置层，所以要运行 Mix 任务，只需要执行默认的Laravel <code>package.json</code> 文件中包含的一个 NPM 脚本：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 运行所有 Mix 任务...npm run dev// 运行所有 Mix 任务并缩小输出..npm run production</span></span><br></pre></td></tr></table></figure><h4 id="监控资源文件修改"><a href="#监控资源文件修改" class="headerlink" title="监控资源文件修改"></a>监控资源文件修改</h4><p><code>npm run watch</code> 会在你的终端里持续运行，监控所有相关的资源文件以便进行更改。Webpack 会在检测到文件更改时自动重新编译资源：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run watch</span><br></pre></td></tr></table></figure><p>在某些环境中，当文件更改时，Webpack 不会更新。如果系统出现这种情况，请考虑使用 <code>watch-poll</code> 命令：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run watch-poll</span><br></pre></td></tr></table></figure><h2 id="使用样式"><a href="#使用样式" class="headerlink" title="使用样式"></a>使用样式</h2><p><code>webpack.mix.js</code> 文件是所有资源编译的入口点。可以把它看作是 Webpack 中的轻量级配置封装清单。Mix 任务可以一起被链式调用，以精确定义资源的编译方式。</p><h3 id="Less"><a href="#Less" class="headerlink" title="Less"></a>Less</h3><p><code>less</code> 方法可以用于将 <span class="exturl" data-url="aHR0cDovL2xlc3Njc3Mub3JnLw==">Less<i class="fa fa-external-link-alt"></i></span> 编译为 CSS。在 <code>webpack.mix.js</code> 中这样写，可以将 <code>app.less</code> 编译到 <code>public/css/app.css</code> 中。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.less(<span class="string">&#x27;&#x27;</span>resources/assets/less/app.less<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>可以多次调用 <code>less</code> 方法来编译多个文件:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.less(<span class="string">&#x27;&#x27;</span>resources/assets/less/app.less<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>)\n   .less(<span class="string">&#x27;&#x27;</span>resources/assets/less/admin.less<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>如果要自定义编译的 CSS 的文件名，可以将一个完整的路径作为第二个参数传给 <code>less</code> 方法:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.less(<span class="string">&#x27;&#x27;</span>resources/assets/less/app.less<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/stylesheets/styles.css<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>如果你需要重写 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9sZXNzLWxvYWRlciNvcHRpb25z">底层 Less 插件选项<i class="fa fa-external-link-alt"></i></span>，你可以将一个对象作为第三个参数传到 <code>mix.less()</code>：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.less(<span class="string">&#x27;&#x27;</span>resources/assets/less/app.less<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>, &#123;\n    strictMath: <span class="literal">true</span>&#125;);</span><br></pre></td></tr></table></figure><h3 id="Sass"><a href="#Sass" class="headerlink" title="Sass"></a>Sass</h3><p><code>sass</code> 方法可以将 <span class="exturl" data-url="aHR0cDovL3Nhc3MtbGFuZy5jb20v">Sass<i class="fa fa-external-link-alt"></i></span> 编译为 CSS。用法如下所示：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.sass(<span class="string">&#x27;&#x27;</span>resources/assets/sass/app.scss<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>跟 <code>less</code> 方法一样，你可以将多个 Sass 文件编译到各自的 CSS 文件中，甚至可以自定义生成的 CSS 的输出目录：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.sass(<span class="string">&#x27;&#x27;</span>resources/assets/sass/app.sass<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>)\n   .sass(<span class="string">&#x27;&#x27;</span>resources/assets/sass/admin.sass<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css/admin<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>另外，<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3Nhc3Mvbm9kZS1zYXNzI29wdGlvbnM=">Node-Sass 插件选项<i class="fa fa-external-link-alt"></i></span> 也同样可以作为第三个参数：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.sass(<span class="string">&#x27;&#x27;</span>resources/assets/sass/app.sass<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>, &#123;\n    precision: <span class="number">5</span>&#125;);</span><br></pre></td></tr></table></figure><h3 id="Stylus"><a href="#Stylus" class="headerlink" title="Stylus"></a>Stylus</h3><p>类似于 Less 和 Sass，<code>stylus</code> 方法可以将 <span class="exturl" data-url="aHR0cDovL3N0eWx1cy1sYW5nLmNvbS8=">Stylus<i class="fa fa-external-link-alt"></i></span> 编译为 CSS：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.stylus(<span class="string">&#x27;&#x27;</span>resources/assets/stylus/app.styl<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>你也可以安装其他的 Stylus 插件，例如 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2plc2NhbGFuL3J1cHR1cmU=">Rupture<i class="fa fa-external-link-alt"></i></span>。首先，通过 NPM (<code>npm install rupture</code>) 来安装插件，然后在调用 <code>mix.stylus()</code> 时引用它：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.stylus(<span class="string">&#x27;&#x27;</span>resources/assets/stylus/app.styl<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>, &#123;\n    <span class="keyword">use</span>: [\<span class="title">n</span>        <span class="title">require</span>(&#x27;&#x27;<span class="title">rupture</span>&#x27;&#x27;)()\<span class="title">n</span>    ]&#125;);</span><br></pre></td></tr></table></figure><h3 id="PostCSS"><a href="#PostCSS" class="headerlink" title="PostCSS"></a>PostCSS</h3><p>Laravel Mix 自带了一个用来转换 CSS 的强大工具 <span class="exturl" data-url="aHR0cDovL3Bvc3Rjc3Mub3JnLw==">PostCSS<i class="fa fa-external-link-alt"></i></span>。默认情况下， Mix 利用了流行的 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3Bvc3Rjc3MvYXV0b3ByZWZpeGVy">Autoprefixer<i class="fa fa-external-link-alt"></i></span> 插件来自动添加所需要的 CSS3 浏览器引擎前缀。不过，你也可以自由添加任何适合你应用程序的插件。首先，通过 NPM 安装所需的插件，然后在 <code>webpack.mix.js</code> 文件中引用它：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.sass(<span class="string">&#x27;&#x27;</span>resources/assets/sass/app.scss<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>)\n   .options(&#123;\n        postCss: [\n            <span class="keyword">require</span>(<span class="string">&#x27;&#x27;</span>postcss-css-variables<span class="string">&#x27;&#x27;</span>)()\n        ]\n   &#125;);</span><br></pre></td></tr></table></figure><h3 id="纯-CSS"><a href="#纯-CSS" class="headerlink" title="纯 CSS"></a>纯 CSS</h3><p>如果你只是想将一些纯 CSS 样式合并成单个的文件, 你可以使用 <code>styles</code> 方法。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.styles([\n    <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css/vendor/normalize.css<span class="string">&#x27;&#x27;</span>,\n    <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css/vendor/videojs.css<span class="string">&#x27;&#x27;</span>], <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css/all.css<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="URL-处理"><a href="#URL-处理" class="headerlink" title="URL 处理"></a>URL 处理</h3><p>由于 Laravel Mix 是建立在 Webpack 之上的，所以了解一些 Webpack 概念就非常有必要。编译 CSS 的时候，Webpack 会重写和优化样式表中对 <code>url()</code> 的调用。 一开始听起来可能会觉得奇怪，但这确实是一个非常强大的功能。试想一下我们要编译一个包含图片的相对路径的 Sass 文件:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.example &#123;\n    background: url(<span class="string">&#x27;&#x27;</span>../images/example.png<span class="string">&#x27;&#x27;</span>);&#125;</span><br></pre></td></tr></table></figure><blockquote><p>{note} 任何给定 <code>url()</code> 的绝对路径会被排除在 URL 重写之外。例如 <code>url(&#39;&#39;/images/thing.png&#39;&#39;)</code> 或者 <code>url(&#39;&#39;http://example.com/images/thing.png&#39;&#39;)</code> 不会被修改。</p></blockquote><p>默认情况下，Laravel Mix 和 Webpack 会找到 <code>example.png</code>，然后把它复制到你的 <code>public/images</code> 目录下，然后重写生成的样式中的 <code>url()</code>。这样，你编译之后的 CSS 会变成：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.example &#123;\n  background: url(/images/example.png?d41d8cd98f00b204e9800998ecf8427e);&#125;</span><br></pre></td></tr></table></figure><p>但如果你想以你喜欢的方式配置现有的文件夹结构，可以禁用 <code>url()</code> 的重写：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.sass(<span class="string">&#x27;&#x27;</span>resources/assets/app/app.scss<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css<span class="string">&#x27;&#x27;</span>)\n   .options(&#123;\n      processCssUrls: <span class="literal">false</span>\n   &#125;);</span><br></pre></td></tr></table></figure><p>在你的 <code>webpack.mix.js</code> 文件像上面这样配置之后，Mix 将不再匹配 <code>url()</code> 或者将资源复制到你的 public 目录。换句话说，编译后的 CSS 会跟原来输入的一样：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.example &#123;\n    background: url(<span class="string">&quot;../images/thing.png&quot;</span>);&#125;</span><br></pre></td></tr></table></figure><h3 id="资源映射"><a href="#资源映射" class="headerlink" title="资源映射"></a>资源映射</h3><p>默认情况下资源映射是禁用的，可以在 <code>webpack.mix.js</code> 文件中调用 <code>mix.sourceMaps()</code> 方法来开启它。尽管它会带来一些编译／性能的成本，但在使用编译资源时，可以为使用浏览器的开发人员工具提供额外的调试信息：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.js(<span class="string">&#x27;&#x27;</span>resources/assets/js/app.js<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/js<span class="string">&#x27;&#x27;</span>)\n   .sourceMaps();</span><br></pre></td></tr></table></figure><h2 id="使用脚本"><a href="#使用脚本" class="headerlink" title="使用脚本"></a>使用脚本</h2><p>Mix 提供了一些函数来处理 JavaScript 文件，像是编译 ECMAScript 2015、模块绑定、压缩以及简单地合并纯 JavaScript 文件。更棒的是，这些操作都不需要进行任何自定义的配置：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.js(<span class="string">&#x27;&#x27;</span>resources/assets/js/app.js<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/js<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>仅仅这上面的一行代码，就支持：</p><ul><li>ES 2015 语法</li><li>模块</li><li>编译 <code>.vue</code> 文件</li><li>生产环境压缩代码</li></ul><h3 id="提取依赖库"><a href="#提取依赖库" class="headerlink" title="提取依赖库"></a>提取依赖库</h3><p>将应用程序特定的 JavaScript 与依赖库捆绑在一起有个潜在的缺点，会使得长期缓存更加困难。例如，即使应用程序使用的依赖库没有被更改，只要有代码被单独更新，都会强制浏览器重新下载所有依赖库。</p><p>如果你打算频繁更新应用程序的 JavaScript，应该考虑将所有的依赖库提取到自己的文件中。如此一来，应用程序代码的更改就不会影响到大型 <code>vendor.js</code> 文件的缓存。而 Mix 的 <code>extract</code> 方法能使之变得轻而易举：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.js(<span class="string">&#x27;&#x27;</span>resources/assets/js/app.js<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/js<span class="string">&#x27;&#x27;</span>)\n   .extract([<span class="string">&#x27;&#x27;</span>vue<span class="string">&#x27;&#x27;</span>])</span><br></pre></td></tr></table></figure><p><code>extract</code> 方法接受一个数组参数。这个数组是要提取到 <code>vendor.js</code> 文件中的所有的依赖库或模块。比如上面的例子中，Mix 将生成以下文件：</p><ul><li><code>public/js/manifest.js</code>: <em>Webpack 运行清单</em></li><li><code>public/js/vendor.js</code>: <em>第三方库</em></li><li><code>public/js/app.js</code>: <em>应用代码</em></li></ul><p>务必按照以下文件顺序加载，以防 JavaScript 报错：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;/js/manifest.js&quot;</span>&gt;&lt;/script&gt;&lt;script src=<span class="string">&quot;/js/vendor.js&quot;</span>&gt;&lt;/script&gt;&lt;script src=<span class="string">&quot;/js/app.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="React"><a href="#React" class="headerlink" title="React"></a>React</h3><p>Mix 会自动安装 React 必要的 Babel 插件。只需替换 <code>mix.js()</code> 为 <code>mix.react()</code>：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.react(<span class="string">&#x27;&#x27;</span>resources/assets/js/app.jsx<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/js<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>Mix 会在后台自动下载包括 <code>babel-preset-react</code> Babel 插件在内的库。</p><h3 id="原生-JS"><a href="#原生-JS" class="headerlink" title="原生 JS"></a>原生 JS</h3><p>类似 <code>mix.styles()</code> 合并样式表文件， <code>scripts()</code> 方法可以合并压缩任意数量的 JavaScript 文件：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.scripts([\n    <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/js/admin.js<span class="string">&#x27;&#x27;</span>,\n    <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/js/dashboard.js<span class="string">&#x27;&#x27;</span>], <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/js/all.js<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>对那些没有用 Webpack 编译 JavaScript 的旧项目来说，这个方法非常实用。</p><blockquote><p>{tip} <code>mix.babel()</code>与 <code>mix.scripts()</code> 还是有些差别的。在使用上与 <code>scripts</code> 一致，但是，所有文件都会经过 Babel 编译， 任何 ES2015 语法的代码都会编译成所有浏览器都支持的原生 JavaScript。</p></blockquote><h3 id="自定义-Webpack-配置"><a href="#自定义-Webpack-配置" class="headerlink" title="自定义 Webpack 配置"></a>自定义 Webpack 配置</h3><p>Laravel Mix 在背后引用一个预配置的 <code>webpack.config.js</code> 文件加速启动与运行。有时，可能有一个特殊的加载器或需要引用的插件，或倾向于 Stylus 而不是 Sass，而不得不去手动修改这个文件。这种情况下，有两个选择：</p><h4 id="合并自定义配置"><a href="#合并自定义配置" class="headerlink" title="合并自定义配置"></a>合并自定义配置</h4><p>Mix 提供了一个 <code>webpackConfig</code> 方法来合并任何 <code>Webpack</code> 配置以覆盖默认配置。因此你不需要复制和维护 <code>webpack.config.js</code> 的文件副本。 <code>webpackConfig</code> 方法接受一个包含任何要应用的 <span class="exturl" data-url="aHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9jb25maWd1cmF0aW9uLw==">Webpack 配置项<i class="fa fa-external-link-alt"></i></span> 的对象：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.webpackConfig(&#123;\n    resolve: &#123;\n        modules: [\n            path.resolve(__dirname, <span class="string">&#x27;&#x27;</span>vendor/laravel/spark/resources/assets/js<span class="string">&#x27;&#x27;</span>)\n        ]\n    &#125;&#125;);</span><br></pre></td></tr></table></figure><h4 id="自定义配置文件"><a href="#自定义配置文件" class="headerlink" title="自定义配置文件"></a>自定义配置文件</h4><p>如果想完全自定义 Webpack 配置，就将 <code>node_modules/laravel-mix/setup/webpack.config.js</code> 文件复制到项目的根目录。然后在 <code>package.json</code> 文件中将所有 <code>--config</code> 的值指向新复制的配置文件。采用这种方法进行自定义，如果后续 Mix 版本有更新时，需要手动合并 <code>webpack.config.js</code> 并到你的自定义文件中。</p><h2 id="复制文件-amp-目录"><a href="#复制文件-amp-目录" class="headerlink" title="复制文件 &amp; 目录"></a>复制文件 &amp; 目录</h2><p><code>copy</code> 方法用于将文件和目录复制到新位置。当 <code>node_modules</code> 目录中的特定资源需要被重定位到 <code>public</code> 文件夹时会很有用。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.copy(<span class="string">&#x27;&#x27;</span>node_modules/foo/bar.css<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/css/bar.css<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>复制目录时，<code>copy</code> 方法会平面化目录的结构。要维护目录的原始结构，应该使用 <code>copyDirectory</code> 方法：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.copyDirectory(<span class="string">&#x27;&#x27;</span>assets/img<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/img<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="版本控制／缓存清除"><a href="#版本控制／缓存清除" class="headerlink" title="版本控制／缓存清除"></a>版本控制／缓存清除</h2><p>许多的开发者会对其编译的资源文件中加上时间戳或是唯一的令牌作为后缀，以此来强迫浏览器加载全新的资源文件，而不是旧版本的代码副本。你可以使用 Mix 的 <code>version</code> 方法处理它们。</p><p><code>version</code> 方法会自动为所有编译文件的文件名附加一个唯一的哈希值，从而实现更方便的缓存清除功能：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.js(<span class="string">&#x27;&#x27;</span>resources/assets/js/app.js<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/js<span class="string">&#x27;&#x27;</span>)\n   .version();</span><br></pre></td></tr></table></figure><p>生成版本化文件后，你不会知道确切的文件名。因此，你应该在你的视图中使用 Laravel 的全局辅助函数 <code>mix</code> 来正确加载名称被哈希后的文件。 <code>mix</code> 函数会自动确定被哈希的文件名称：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;&#123;&#123; mix(&#x27;&#x27;/css/app.css&#x27;&#x27;) &#125;&#125;&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>因为在开发中通常是不需要版本化，你可以指示版本控制过程仅在 <code>npm run production</code> 运行期间进行：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.js(<span class="string">&#x27;&#x27;</span>resources/assets/js/app.js<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span><span class="keyword">public</span>/js<span class="string">&#x27;&#x27;</span>);<span class="keyword">if</span> (mix.inProduction()) &#123;\n    mix.version();&#125;</span><br></pre></td></tr></table></figure><h2 id="Browsersync-重新加载"><a href="#Browsersync-重新加载" class="headerlink" title="Browsersync 重新加载"></a>Browsersync 重新加载</h2><p><span class="exturl" data-url="aHR0cHM6Ly9icm93c2Vyc3luYy5pby8=">BrowserSync<i class="fa fa-external-link-alt"></i></span> 会自动监控文件修改并将修改注入浏览器而无需手动刷新。 你可以通过调用 <code>mix.browserSync()</code> 方法启用该支持：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.browserSync(<span class="string">&#x27;&#x27;</span>my-domain.test<span class="string">&#x27;&#x27;</span>);<span class="comment">// Or...// https://browsersync.io/docs/optionsmix.browserSync(&#123;\n    proxy: &#x27;&#x27;my-domain.test&#x27;&#x27;&#125;);</span></span><br></pre></td></tr></table></figure><p>你可以传递一个字符串（代理）或对象（BrowserSync 设置）到该方法。 接下来，使用 <code>npm run watch</code> 命令来启动 Webpack 的开发服务器。现在，当你编辑一个 JavaScript 脚本或 PHP 文件时，会看到浏览器会立即刷新以响应你的修改。</p><h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><p>你可以通过在 <code>.env</code> 文件添加 <code>MIX_</code> 前缀将环境变量注入 Mix：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MIX_SENTRY_DSN_PUBLIC=http:<span class="comment">//example.com</span></span><br></pre></td></tr></table></figure><p>在 <code>.env</code> 文件中定义号变量之后，可以通过 <code>process.env</code> 对象进行访问。如果在运行 <code>watch</code> 任务期间变量值有变动，需要重启任务：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">process.env.MIX_SENTRY_DSN_PUBLIC</span><br></pre></td></tr></table></figure><h2 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h2><p>正常情况下，Mix 会自动为每个捆绑显示操作系统通知，这可以给你一个及时的反馈：编译成功还是失败。不过，某些场景下你可能希望禁止这些通知，一个典型的例子就是在生产境服务器触发 Mix。通知可以通过 <code>disableNotifications</code>方法被停用：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix.disableNotifications();</span><br></pre></td></tr></table></figure></div><div class="popular-posts-header">相关文章</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/c4431a87.html" rel="bookmark">Laravel Blade模板使用</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/7f5c7eb6.html" rel="bookmark">一篇文章让你明白Laravel服务容器</a></div></li></ul><footer class="post-footer"><div class="reward-container"><div>打赏个鸡腿</div><button onclick='document.querySelector(".post-reward").classList.toggle("active")'>赞赏</button><div class="post-reward"><div><img src="/images/wechatpay.jpg" alt="托小尼 微信"> <span>微信</span></div><div><img src="/images/alipay.jpg" alt="托小尼 支付宝"> <span>支付宝</span></div></div></div><div class="post-tags"><a href="/tags/laravel/" rel="tag"><i class="fa fa-tag"></i> laravel</a> <a href="/tags/laravel-mix/" rel="tag"><i class="fa fa-tag"></i> laravel mix</a> <a href="/tags/node/" rel="tag"><i class="fa fa-tag"></i> node</a> <a href="/tags/npm/" rel="tag"><i class="fa fa-tag"></i> npm</a></div><div class="post-nav"><div class="post-nav-item"><a href="/7522ff0e.html" rel="prev" title="php: command not found 和php -v与phpinfo()打印的版本不一致"><i class="fa fa-chevron-left"></i> php: command not found 和php -v与phpinfo()打印的版本不一致</a></div><div class="post-nav-item"><a href="/5e3ea888.html" rel="next" title="浅析es6新特性">浅析es6新特性 <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="comments"><div id="SOHUCS"></div></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><span class="exturl" data-url="aHR0cHM6Ly9iZWlhbi5taWl0Lmdvdi5jbg==">豫ICP备17028303号-1 </span><img src="http://www.beian.gov.cn/portal/download" style="display:inline-block"><span class="exturl" data-url="aHR0cDovL3d3dy5iZWlhbi5nb3YuY24vcG9ydGFsL3JlZ2lzdGVyU3lzdGVtSW5mbz9yZWNvcmRjb2RlPTE3MDI4MzAz">豫公网安备 41102402000095号</span></div><div class="copyright">&copy; <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Tony Yu</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="站点总字数">1.2m</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">18:50</span></span></div></div></footer><script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1.15.0/dist/lozad.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script>NexT.utils.loadComments('#SOHUCS', () => {
    NexT.utils.getScript('https://changyan.sohu.com/upload/changyan.js', () => {
      window.changyan.api.config({
        appid: 'cyu11Umgd',
        conf : '0f296687f6a61e82028fd7c6ddf32ab9'
      });
    });
  });</script><script src="https://assets.changyan.sohu.com/upload/plugins/plugins.count.js"></script></body></html>